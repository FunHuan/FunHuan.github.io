

## 《企业IT架构转型之道_阿里巴巴中台战略思想与架构实战》 阅读笔记

- 共享服务体系
  - 松耦合服务带来业务的**复用**，通过服务编排助力业务快速响应和创新
  - 去中心化微服务
- 微服务架构典型特征
  - 分布式服务组成的系统
  - 按照业务划分组织
  - 有生命的产品而不是项目
  - 智能化服务端点与傻瓜式服务编排
  - 自动化运维
  - 系统容错
  - 服务快速演化
- 共享服务中心构建原则
  - 服务中心特点
    - 服务中心一定是不断发展的
    - 服务中心的服务形态是多样性的
    - 服务中心是可以进一步划分的
  - 服务中心分类
    - 依赖于接口的服务
    - 依赖于工具的服务
    - 依赖于数据的服务
  - 服务中心建立的目的
    - 通过服务拆分**降低系统的复杂性**
    - 通过服务共享提供**重用性**
    - 支持业务的**敏捷性**
    - 通过统一数据架构**消除数据交互的屏障**
  - 服务化原则
    - 高内聚、低耦合原则
    - 数据完整性原则（实时数据、离线计算数据）
    - 业务可运营原则
    - 渐进性的建设原则
- 数据拆分实现数据库能力线性扩展
  - 读写分离
  - 分库分表
    - 数据尽可能平均拆分
    - 尽量较少事务边界（即减少单个SQL在数据库上执行的数量）
    - 通过异构索引尽量降低全表扫描的概率（换两一个维度建立数据表或者索引表）
      - 实现方式1 通过数据库层面数据复制方式实现
      - 实现方式2 通过应用层实现
    - 多条件频繁查询引入搜索引擎
    - 注意分布式事务的处理
- 异步化
  - 业务流程使用消息中间件异步化
  - 数据库事务异步化（拆分小事务）（回滚、重试、最终一致）
  - 柔性事务
    - 引入日志和补偿机制（redo/undo日志思想），实现正向补充和反向补偿
    - 可靠消息传递（接口幂等、消息消费排重表）
    - 无锁实现
      - 避免事务回滚
      - 辅助业务变化明细表
      - 乐观锁
- 缓存原则
- 日志处理+链路追踪
- 平台稳定性
  - 限流与降级
    - 授权
    - 限流
    - 熔断降级
    - 监控
  - 流量调度